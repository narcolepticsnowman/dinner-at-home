<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Menu</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<script type="module">
    import {fnapp} from './fntags.js'
    import {div, style} from './fnelements.js'
    import MenuBoard from "./MenuBoard.js";
    import {today} from "./constants.js";

    document.head.append(
        style(`
            body {
                background-image: url(./chalkboardBackground.jpg);
                background-position: center;
                background-repeat: no-repeat;
                background-size: cover;
                min-height: 100vh;
                margin: 0;
                font-family: radium;
            }
            @font-face {
                font-family: 'radium';
                src: url('radium.woff') format('woff');
            }
            button {
                background-color: grey;
                border-color: black;
                border-radius: 4px;
                padding: 10px;
                font-family: radium;
            }
        `)
    )

    const datePlusDays = (date, days)=>{

        const d = new Date(today().getTime())
        d.setDate(d.getDate()+days)

        return d.toLocaleDateString('sv')
    }

    const dinnerPlans = [
        {
            date:  datePlusDays(today(), 0),
            dishes: [
                {
                    name: "Marinated Flank Steak",
                    recipe: null,
                    recipeUrl: "http://allrecipes.com",
                    imageUrl: null,
                    cookTime: 20,
                    prepSteps: [
                        {
                            leadTime: (24 * 60) * 2,
                            duration: 5,
                            description: "Put steak in fridge to defrost"
                        },
                        {
                            leadTime: 240,  //in minutes
                            duration: 15,
                            description: "Marinate Steak"
                        }
                    ]
                },
                {
                    name: "Roasted Cauliflower",
                    cookTime: 20,
                    recipe: {
                        ingredients: [
                            {
                                amount: "1 whole",
                                name: "Cauliflower"
                            },
                            {
                                amount: "1 tsp",
                                name: "Salt"
                            },
                            {
                                amount: "1 tbsp",
                                name: "Garlic"
                            },
                            {
                                amount: "4 tbsp",
                                name: "olive oil"
                            }
                        ],
                        steps: [
                            "remove green bottom of cauliflower",
                            "place in pan",
                            "Top with olive oil, salt and garlic",
                            "bake for 1 hr"
                        ]
                    },
                    recipeUrl: null,
                    imageUrl: null,
                    prepSteps: []
                }
            ],
        },
        {
            date: datePlusDays(today(), 1),
            dishes: [
                {
                    name: "Eat Out",
                    recipe: null,
                    recipeUrl: null,
                    imageUrl: null,
                    cookTime: 0,
                    prepSteps: []
                }
            ],
        },
        {
            date: datePlusDays(today(), 2),
            dishes: [
                {
                    name: "Spaghetti",
                    recipe: null,
                    recipeUrl: "http://allrecipes.com",
                    imageUrl: null,
                    cookTime: 15,
                    prepSteps: []
                }
            ],
        },
        {
            date: datePlusDays(today(), 3),
            dishes: [
                {
                    name: "Bowl of Jellybeans",
                    recipe: null,
                    recipeUrl: "http://allrecipes.com",
                    imageUrl: null,
                    cookTime: 15,
                    prepSteps: []
                }
            ],
        }
    ]

    fnapp(document.body,
        div(
            {
                style: {
                    margin: '0 auto',
                    width: '100%',
                    'align-items': 'center',
                    padding: '10px',
                    display: 'flex',
                    'flex-direction': 'column',
                    'max-width': '650px',
                    'text-align': 'center'
                }
            },
            MenuBoard(dinnerPlans)
        )
    )
</script>
</body>
</html>